"""
提示词模板模块
包含所有用于生成视频脚本和图片提示词的模板
"""

# 定义支持的风格类型及其描述
STYLE_DESCRIPTIONS = {
    "动画": "动画风格，色彩鲜艳，线条流畅，充满活力和想象力，适合表达轻松、创意的内容",
    "写实": "写实风格，细节丰富，光影真实，质感细腻，适合表达严肃、专业的内容",
    "插画": "插画风格，艺术感强，构图精美，色彩和谐，适合表达文艺、优雅的内容",
    "简约": "简约风格，线条简洁，色彩纯净，留白充足，适合表达现代、简洁的内容",
    "水彩": "水彩风格，色彩柔和，笔触自然，充满艺术气息，适合表达温柔、诗意的内容",
    "油画": "油画风格，质感厚重，色彩浓郁，光影层次丰富，适合表达经典、庄重的内容",
    "卡通": "卡通风格，造型可爱，色彩明快，充满趣味性，适合表达轻松、幽默的内容",
    "科幻": "科幻风格，未来感强，科技元素丰富，光影效果炫酷，适合表达科技、未来主题",
    "水墨": "水墨风格，中国风，意境深远，黑白灰为主，适合表达传统文化、哲学主题"
}

# 默认封面数据
DEFAULT_COVER = {
    "title": "精彩内容",
    "subtitle": "让我们一起探索这个有趣的话题"
}


def get_cover_prompt_template(text: str) -> str:
    """
    获取封面生成提示词模板
    
    参数:
        text: 输入文本内容
    
    返回:
        str: 封面生成提示词
    """
    return f"""请基于以下文本内容，生成一个视频封面场景的数据。封面需要包含：
1. title: 整个视频的标题（要吸引人，概括视频主题，长度不超过15个字）
2. subtitle: 引导观众观看的字幕内容（用于语音合成，要能引起观众兴趣，引导他们继续观看）

要求：
- title要简洁有力，能够概括整个视频的核心主题
- subtitle要具有引导性，能够引起观众的好奇心和观看欲望
- subtitle要适合语音朗读，长度适中（建议20-40字）

文本内容：
{text}

请以JSON对象格式返回，包含title和subtitle字段。格式如下：
{{"title": "视频标题", "subtitle": "引导性字幕内容"}}

只返回JSON对象，不要包含其他文字说明。"""


def get_script_prompt_template(text: str, num_segments: int) -> str:
    """
    获取视频脚本生成提示词模板
    
    参数:
        text: 输入文本内容
        num_segments: 需要生成的段数
    
    返回:
        str: 脚本生成提示词
    """
    return f"""请基于以下文本内容，生成一个包含{num_segments}段内容的视频脚本。每段内容需要包含：
1. title: 该段的标题（简短，作为字幕显示）
2. subtitle: 该段的字幕内容（用于语音合成）

要求：
- 每段内容应该逻辑连贯，围绕主题展开
- title要简洁有力，长度不超过10个字
- subtitle要适合语音朗读，长度适中
- 总共生成{num_segments}段内容

文本内容：
{text}

请以JSON数组格式返回，每个元素包含title和subtitle字段。格式如下：
[
  {{"title": "标题1", "subtitle": "字幕内容1"}},
  {{"title": "标题2", "subtitle": "字幕内容2"}},
  ...
]

只返回JSON数组，不要包含其他文字说明。"""


def get_unified_style_prompt_template(text_preview: str, style_desc: str) -> str:
    """
    获取统一风格提示词生成模板
    
    参数:
        text_preview: 文本内容预览（前500字）
        style_desc: 风格描述
    
    返回:
        str: 统一风格提示词生成模板
    """
    return f"""请基于以下文本内容，生成一个统一的图片风格提示词（中文），用于确保整个视频中所有图片的风格、角色和视觉元素保持一致。

文本内容预览：
{text_preview}

风格要求：{style_desc}

统一风格提示词要求：
1. 定义整体视觉风格（如：{style_desc}）
2. 定义主要角色的外观特征（如果有角色，需要描述其形象、服装、特征等）
3. 定义统一的色彩基调（如：温暖色调、冷色调、高饱和度等）
4. 定义统一的构图原则：核心元素放在图片从顶部算起40%的位置（上半部分），上面留白大于10%，下面留白大于40%
5. 定义统一的画面质感（如：细腻、粗糙、光滑等）
6. 确保图片简单：只保留1到3个核心和关键元素，放在图片上半部分（从顶部算起40%位置），上下留白充足
7. 定义统一的细节风格（如：线条粗细、阴影处理、纹理等）
8. 确保所有图片的视角、光照方向、色彩饱和度保持一致

请生成一个简洁但全面的统一风格提示词（控制在100字以内），这个提示词将被添加到每张图片的具体提示词后面，以确保风格一致性。

格式要求：以逗号开头，直接描述风格特征，不要包含"统一风格"等说明性文字。

只返回统一风格提示词内容，不要包含其他说明。"""


def get_default_unified_prompt(style_desc: str) -> str:
    """
    获取默认的统一风格提示词
    
    参数:
        style_desc: 风格描述
    
    返回:
        str: 默认统一风格提示词
    """
    return f"，{style_desc}，画面简洁，核心元素放在图片上半部分（从顶部算起40%位置），上面留白大于10%，下面留白大于40%，风格统一"


def get_cover_image_prompt_template(title: str, subtitle: str, style_desc: str) -> str:
    """
    获取封面图片提示词生成模板
    
    参数:
        title: 视频标题
        subtitle: 引导字幕
        style_desc: 风格描述
    
    返回:
        str: 封面图片提示词生成模板
    """
    return f"""请为以下视频封面生成一个详细的图片生成提示词（中文）。

视频标题：{title}
引导字幕：{subtitle}

风格要求：{style_desc}

封面图片提示词要求：
1. 详细描述画面内容，聚焦于视频标题和引导字幕表达的核心概念
2. 封面要具有强烈的视觉吸引力，能够引起观众的好奇心
3. 只描述1到3个核心和关键元素，放在图片上半部分（从顶部算起40%的位置）
4. 确保画面简洁，上面留白大于10%，下面留白大于40%
5. 描述要具体、生动，使用具象的词汇（如"金色的太阳"而非"光明"）
6. 封面应该体现整个视频的主题和核心内容
7. 提示词应该专注于封面内容，风格部分会在后面统一添加
8. 避免描述过于复杂的场景或过多元素
9. 确保描述的元素能够清晰、突出地呈现在图片上半部分，具有视觉冲击力

只返回图片内容提示词（控制在80字以内），不要包含风格描述（风格会统一添加），不要包含其他说明。"""


def get_content_image_prompt_template(title: str, subtitle: str, style_desc: str) -> str:
    """
    获取内容段图片提示词生成模板
    
    参数:
        title: 标题
        subtitle: 字幕
        style_desc: 风格描述
    
    返回:
        str: 内容段图片提示词生成模板
    """
    return f"""请为以下视频内容生成一个详细的图片生成提示词（中文）。

标题：{title}
字幕：{subtitle}

风格要求：{style_desc}

图片提示词要求：
1. 详细描述画面内容，聚焦于标题和字幕表达的核心概念
2. 只描述1到3个核心和关键元素，放在图片上半部分（从顶部算起40%的位置）
3. 确保画面简洁，上面留白大于10%，下面留白大于40%
4. 描述要具体、生动，使用具象的词汇（如"金色的太阳"而非"光明"）
5. 提示词应该专注于当前片段的内容，风格部分会在后面统一添加
6. 避免描述过于复杂的场景或过多元素
7. 确保描述的元素能够清晰、突出地呈现在图片上半部分

只返回图片内容提示词（控制在80字以内），不要包含风格描述（风格会统一添加），不要包含其他说明。"""

